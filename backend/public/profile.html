<!doctype html>
<html>
<head>
	<meta charset="utf-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1" />
	<title>Profile</title>
</head>
<body>
	<h1>My Profile</h1>
	<button id="load">Load Profile</button>
	<pre id="out"></pre>
	<script>
	const out = document.getElementById('out');
	document.getElementById('load').addEventListener('click', async () => {
		const token = localStorage.getItem('token');
		if (!token) { out.textContent = 'No token. Please login.'; return; }
		const res = await fetch('/api/me', { headers: { 'Authorization': 'Bearer ' + token } });
		out.textContent = JSON.stringify(await res.json(), null, 2);
	});
	</script>
	<p><a href="/">Home</a></p>
</body>
</html>